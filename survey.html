<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Satisfaction Survey</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f8fffe 0%, #e8f4f8 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 700px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #1e3a8a 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
            line-height: 1.5;
        }

        .survey-content {
            padding: 40px;
        }

        .question-group {
            margin-bottom: 35px;
            padding: 25px;
            background: #f8fafc;
            border-radius: 12px;
            border-left: 4px solid #2c5aa0;
        }

        .question {
            font-size: 18px;
            font-weight: 500;
            color: #1e293b;
            margin-bottom: 20px;
            line-height: 1.4;
        }

        .rating-scale {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .rating-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 12px;
            border-radius: 10px;
            transition: all 0.3s ease;
            min-width: 70px;
        }

        .rating-option:hover {
            background: #e2e8f0;
            transform: translateY(-2px);
        }

        .rating-option input[type="radio"] {
            display: none;
        }

        .rating-option input[type="radio"]:checked + .rating-content {
            background: #2c5aa0;
            color: white;
            transform: scale(1.1);
        }

        .rating-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px 12px;
            border-radius: 8px;
            transition: all 0.3s ease;
            border: 2px solid #e2e8f0;
        }

        .emoji {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .rating-number {
            font-weight: 600;
            font-size: 14px;
        }

        .rating-labels {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #64748b;
            margin-top: 10px;
        }

        .comment-section {
            margin-top: 40px;
            padding: 25px;
            background: #f1f5f9;
            border-radius: 12px;
        }

        .comment-section label {
            display: block;
            font-size: 16px;
            font-weight: 500;
            color: #1e293b;
            margin-bottom: 12px;
        }

        .comment-section textarea {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-family: inherit;
            font-size: 14px;
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        .comment-section textarea:focus {
            outline: none;
            border-color: #2c5aa0;
        }

        .submit-btn {
            background: linear-gradient(135deg, #2c5aa0 0%, #1e3a8a 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s ease;
            width: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(44, 90, 160, 0.3);
        }

        .thank-you {
            display: none;
            text-align: center;
            padding: 60px 40px;
            background: #f0f9ff;
            border-radius: 12px;
            margin: 20px;
        }

        .thank-you.show {
            display: block;
        }

        .thank-you h2 {
            color: #2c5aa0;
            font-size: 24px;
            margin-bottom: 15px;
        }

        .thank-you p {
            color: #475569;
            font-size: 16px;
            line-height: 1.6;
        }

        .check-icon {
            font-size: 48px;
            color: #10b981;
            margin-bottom: 20px;
        }

        @media (max-width: 600px) {
            .rating-scale {
                gap: 8px;
            }
            
            .rating-option {
                min-width: 55px;
                padding: 8px;
            }
            
            .emoji {
                font-size: 20px;
            }
            
            .rating-number {
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>How Was Your Visit Today?</h1>
            <p>Your feedback helps us provide the best possible care. Please take a moment to share your experience with us.</p>
        </div>

        <form id="surveyForm" class="survey-content">
            <!-- Patient Information Section -->
            <div class="question-group">
                <div class="question">Patient Information</div>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div>
                        <label for="patientName" style="display: block; font-weight: 500; margin-bottom: 8px; color: #1e293b;">Full Name *</label>
                        <input type="text" id="patientName" name="patient_name" required 
                               style="width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 14px;" 
                               placeholder="Enter your full name">
                    </div>
                    <div>
                        <label for="patientEmail" style="display: block; font-weight: 500; margin-bottom: 8px; color: #1e293b;">Email Address *</label>
                        <input type="email" id="patientEmail" name="patient_email" required 
                               style="width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 14px;" 
                               placeholder="Enter your email">
                    </div>
                    <div>
                        <label for="patientPhone" style="display: block; font-weight: 500; margin-bottom: 8px; color: #1e293b;">Phone Number</label>
                        <input type="tel" id="patientPhone" name="patient_phone" 
                               style="width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 14px;" 
                               placeholder="Enter your phone number">
                    </div>
                    <div>
                        <label for="appointmentDate" style="display: block; font-weight: 500; margin-bottom: 8px; color: #1e293b;">Appointment Date *</label>
                        <input type="date" id="appointmentDate" name="appointment_date" required 
                               style="width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 14px;">
                    </div>
                </div>
            </div>

            <!-- Overall Satisfaction -->
            <div class="question-group">
                <div class="question">Overall, how satisfied are you with your visit today?</div>
                <div class="rating-scale">
                    <label class="rating-option">
                        <input type="radio" name="overall_satisfaction" value="1" required>
                        <div class="rating-content">
                            <div class="emoji">üòû</div>
                            <div class="rating-number">1</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="overall_satisfaction" value="2">
                        <div class="rating-content">
                            <div class="emoji">üòï</div>
                            <div class="rating-number">2</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="overall_satisfaction" value="3">
                        <div class="rating-content">
                            <div class="emoji">üòê</div>
                            <div class="rating-number">3</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="overall_satisfaction" value="4">
                        <div class="rating-content">
                            <div class="emoji">üôÇ</div>
                            <div class="rating-number">4</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="overall_satisfaction" value="5">
                        <div class="rating-content">
                            <div class="emoji">üòÑ</div>
                            <div class="rating-number">5</div>
                        </div>
                    </label>
                </div>
                <div class="rating-labels">
                    <span>Very Dissatisfied</span>
                    <span>Very Satisfied</span>
                </div>
            </div>

            <!-- Staff Professionalism -->
            <div class="question-group">
                <div class="question">How would you rate the professionalism and courtesy of our staff?</div>
                <div class="rating-scale">
                    <label class="rating-option">
                        <input type="radio" name="staff_professionalism" value="1" required>
                        <div class="rating-content">
                            <div class="emoji">üòû</div>
                            <div class="rating-number">1</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="staff_professionalism" value="2">
                        <div class="rating-content">
                            <div class="emoji">üòï</div>
                            <div class="rating-number">2</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="staff_professionalism" value="3">
                        <div class="rating-content">
                            <div class="emoji">üòê</div>
                            <div class="rating-number">3</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="staff_professionalism" value="4">
                        <div class="rating-content">
                            <div class="emoji">üôÇ</div>
                            <div class="rating-number">4</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="staff_professionalism" value="5">
                        <div class="rating-content">
                            <div class="emoji">üòÑ</div>
                            <div class="rating-number">5</div>
                        </div>
                    </label>
                </div>
                <div class="rating-labels">
                    <span>Poor</span>
                    <span>Excellent</span>
                </div>
            </div>

            <!-- Waiting Time -->
            <div class="question-group">
                <div class="question">How satisfied are you with your waiting time today?</div>
                <div class="rating-scale">
                    <label class="rating-option">
                        <input type="radio" name="waiting_time" value="1" required>
                        <div class="rating-content">
                            <div class="emoji">üòû</div>
                            <div class="rating-number">1</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="waiting_time" value="2">
                        <div class="rating-content">
                            <div class="emoji">üòï</div>
                            <div class="rating-number">2</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="waiting_time" value="3">
                        <div class="rating-content">
                            <div class="emoji">üòê</div>
                            <div class="rating-number">3</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="waiting_time" value="4">
                        <div class="rating-content">
                            <div class="emoji">üôÇ</div>
                            <div class="rating-number">4</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="waiting_time" value="5">
                        <div class="rating-content">
                            <div class="emoji">üòÑ</div>
                            <div class="rating-number">5</div>
                        </div>
                    </label>
                </div>
                <div class="rating-labels">
                    <span>Too Long</span>
                    <span>Just Right</span>
                </div>
            </div>

            <!-- Feeling Heard -->
            <div class="question-group">
                <div class="question">Did you feel heard and understood during your appointment?</div>
                <div class="rating-scale">
                    <label class="rating-option">
                        <input type="radio" name="feeling_heard" value="1" required>
                        <div class="rating-content">
                            <div class="emoji">üòû</div>
                            <div class="rating-number">1</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="feeling_heard" value="2">
                        <div class="rating-content">
                            <div class="emoji">üòï</div>
                            <div class="rating-number">2</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="feeling_heard" value="3">
                        <div class="rating-content">
                            <div class="emoji">üòê</div>
                            <div class="rating-number">3</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="feeling_heard" value="4">
                        <div class="rating-content">
                            <div class="emoji">üôÇ</div>
                            <div class="rating-number">4</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="feeling_heard" value="5">
                        <div class="rating-content">
                            <div class="emoji">üòÑ</div>
                            <div class="rating-number">5</div>
                        </div>
                    </label>
                </div>
                <div class="rating-labels">
                    <span>Not at All</span>
                    <span>Completely</span>
                </div>
            </div>

            <!-- Optional Comments -->
            <div class="comment-section">
                <label for="comments">Is there anything else you'd like to share about your visit? (Optional)</label>
                <textarea id="comments" name="comments" placeholder="Please share any additional thoughts, suggestions, or concerns you may have. Your feedback is valuable to us."></textarea>
            </div>

            <button type="submit" class="submit-btn">Submit Feedback</button>
        </form>

        <div id="thankYou" class="thank-you">
            <div class="check-icon">‚úÖ</div>
            <h2>Thank You for Your Feedback!</h2>
            <p>We truly appreciate you taking the time to share your experience with us. Your feedback helps us continue to improve our care and service. We look forward to serving you again in the future.</p>
        </div>
    </div>

    <script>
        // Survey data storage (in production, this would be a backend database)
        function saveSurveyResponse(responseData) {
            // Get existing responses
            let responses = JSON.parse(sessionStorage.getItem('surveyResponses') || '[]');
            
            // Add new response with timestamp and ID
            const newResponse = {
                id: 'SR' + Date.now(),
                timestamp: new Date().toISOString(),
                submittedAt: new Date().toLocaleString(),
                ...responseData
            };
            
            responses.push(newResponse);
            
            // Save back to storage
            sessionStorage.setItem('surveyResponses', JSON.stringify(responses));
            
            // Simulate email notification
            sendEmailNotification(newResponse);
            
            return newResponse;
        }

        function sendEmailNotification(response) {
            // Simulate email notification (in production, this would call your email service)
            const emailData = {
                to: 'admin@medicalpractice.com',
                subject: `New Patient Feedback - ${response.patient_name}`,
                body: `
New patient survey response received:

PATIENT INFORMATION:
‚Ä¢ Name: ${response.patient_name}
‚Ä¢ Email: ${response.patient_email}
‚Ä¢ Phone: ${response.patient_phone || 'Not provided'}
‚Ä¢ Appointment Date: ${response.appointment_date}

SATISFACTION RATINGS:
‚Ä¢ Overall Satisfaction: ${response.overall_satisfaction}/5
‚Ä¢ Staff Professionalism: ${response.staff_professionalism}/5
‚Ä¢ Waiting Time: ${response.waiting_time}/5
‚Ä¢ Feeling Heard: ${response.feeling_heard}/5

COMMENTS:
${response.comments || 'No additional comments provided'}

SUBMISSION DETAILS:
‚Ä¢ Submitted: ${response.submittedAt}
‚Ä¢ Response ID: ${response.id}

Please follow up if ratings are below 3/5.
                `
            };
            
            console.log('Email notification sent:', emailData);
            
            // Store email notifications for admin dashboard
            let emailLog = JSON.parse(sessionStorage.getItem('emailNotifications') || '[]');
            emailLog.push({
                ...emailData,
                sentAt: new Date().toLocaleString(),
                responseId: response.id
            });
            sessionStorage.setItem('emailNotifications', JSON.stringify(emailLog));
        }

        document.getElementById('surveyForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Collect form data
            const formData = new FormData(this);
            const responseData = Object.fromEntries(formData);
            
            // Save the response
            const savedResponse = saveSurveyResponse(responseData);
            
            // Hide the form
            this.style.display = 'none';
            
            // Show thank you message
            document.getElementById('thankYou').classList.add('show');
            
            // Scroll to top to show thank you message
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            console.log('Survey response saved:', savedResponse);
        });

        // Add visual feedback when hovering over rating options
        document.querySelectorAll('.rating-option').forEach(option => {
            option.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-2px)';
            });
            
            option.addEventListener('mouseleave', function() {
                if (!this.querySelector('input').checked) {
                    this.style.transform = 'translateY(0)';
                }
            });
        });
    </script>
</body>
</html>