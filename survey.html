<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Satisfaction Survey</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f8fffe 0%, #e8f4f8 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 700px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #1e3a8a 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
            line-height: 1.5;
        }

        .survey-content {
            padding: 40px;
        }

        .question-group {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8fafc;
            border-radius: 16px;
            border-left: 5px solid #2c5aa0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid #e2e8f0;
        }

        .section-icon {
            font-size: 24px;
            margin-right: 12px;
            color: #2c5aa0;
        }

        .question {
            font-size: 20px;
            font-weight: 600;
            color: #1e293b;
            margin: 0;
            line-height: 1.4;
        }

        .section-description {
            font-size: 14px;
            color: #64748b;
            margin-top: 8px;
            line-height: 1.5;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-top: 24px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-label {
            display: block;
            font-weight: 500;
            margin-bottom: 8px;
            color: #1e293b;
            font-size: 14px;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 14px;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            background: white;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #2c5aa0;
            box-shadow: 0 0 0 3px rgba(44, 90, 160, 0.1);
        }

        .other-department-input {
            margin-top: 12px;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .other-department-input.show {
            opacity: 1;
            max-height: 60px;
        }

        .rating-section {
            margin-bottom: 32px;
            padding: 24px;
            background: white;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
        }

        .rating-title {
            font-weight: 600;
            margin-bottom: 16px;
            color: #1e293b;
            font-size: 16px;
            display: flex;
            align-items: center;
        }

        .rating-title-icon {
            font-size: 18px;
            margin-right: 8px;
            color: #2c5aa0;
        }

        .contact-preferences-container {
            background: #f8fafc;
            border-radius: 12px;
            padding: 24px;
            margin: 32px 0;
            border-left: 4px solid #0ea5e9;
        }

        .contact-header {
            margin-bottom: 24px;
        }

        .contact-title {
            font-size: 18px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .contact-subtitle {
            font-size: 14px;
            color: #64748b;
        }

        .contact-main-choice {
            margin-bottom: 24px;
        }

        .contact-main-label {
            font-size: 16px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 12px;
        }

        .main-choice-options {
            display: flex;
            gap: 16px;
        }

        .main-choice-item {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
        }

        .main-choice-item:hover {
            border-color: #0ea5e9;
            background: #f0f9ff;
        }

        .main-choice-item.selected {
            border-color: #0ea5e9;
            background: #eff6ff;
            color: #0c4a6e;
        }

        .main-choice-item input[type="radio"] {
            margin-right: 8px;
            transform: scale(1.2);
        }

        .contact-methods {
            padding: 20px;
            background: white;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
            transform: translateY(-10px);
        }

        .contact-methods.show {
            opacity: 1;
            max-height: 200px;
            transform: translateY(0);
        }

        .contact-methods-label {
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 12px;
        }

        .method-options {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
        }

        .method-item {
            display: flex;
            align-items: center;
            padding: 8px 16px;
            background: #f8fafc;
            border: 2px solid #e5e7eb;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
        }

        .method-item:hover {
            border-color: #0ea5e9;
            background: #f0f9ff;
        }

        .method-item.selected {
            border-color: #0ea5e9;
            background: #eff6ff;
            color: #0c4a6e;
        }

        .method-item input[type="checkbox"] {
            margin-right: 8px;
        }

        @media (max-width: 768px) {
            .main-choice-options {
                flex-direction: column;
                gap: 12px;
            }
            
            .method-options {
                flex-direction: column;
                gap: 12px;
            }
        }

        .privacy-section {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border: 2px solid #0ea5e9;
            border-radius: 16px;
            padding: 24px;
            margin-top: 32px;
        }

        .privacy-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .privacy-icon {
            font-size: 28px;
            margin-right: 12px;
            color: #0ea5e9;
        }

        .privacy-title {
            font-size: 20px;
            font-weight: 600;
            color: #0c4a6e;
        }

        .privacy-content {
            font-size: 14px;
            color: #475569;
            line-height: 1.6;
        }

        .privacy-list {
            margin: 16px 0;
            padding-left: 20px;
        }

        .privacy-list li {
            margin-bottom: 8px;
        }

        .consent-box {
            background: white;
            padding: 16px;
            border-radius: 10px;
            border: 2px solid #0ea5e9;
            margin: 20px 0;
        }

        .consent-item {
            display: flex;
            align-items: flex-start;
            padding: 12px;
            cursor: pointer;
        }

        .consent-item input[type="checkbox"] {
            margin-right: 12px;
            margin-top: 2px;
            transform: scale(1.2);
        }

        .data-notice {
            font-size: 12px;
            color: #64748b;
            background: white;
            padding: 16px;
            border-radius: 8px;
            border-left: 4px solid #0ea5e9;
            margin-top: 16px;
        }

        .radio-group {
            display: flex;
            gap: 24px;
            margin: 16px 0;
        }

        .radio-item {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .radio-item:hover {
            border-color: #2c5aa0;
            background: #f8fafc;
        }

        .radio-item input[type="radio"] {
            margin-right: 8px;
            transform: scale(1.2);
        }

        .comment-section {
            margin-top: 40px;
            padding: 32px;
            background: linear-gradient(135deg, #f1f5f9 0%, #f8fafc 100%);
            border-radius: 16px;
            border-left: 5px solid #10b981;
        }

        .comment-section label {
            display: block;
            font-size: 18px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
        }

        .comment-section p {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 16px;
            line-height: 1.5;
        }

        .comment-section textarea {
            width: 100%;
            min-height: 120px;
            padding: 16px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-family: inherit;
            font-size: 14px;
            resize: vertical;
            transition: border-color 0.3s ease;
            background: white;
        }

        .comment-section textarea:focus {
            outline: none;
            border-color: #10b981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }
            
            .radio-group {
                flex-direction: column;
                gap: 12px;
            }
            
            .question-group {
                padding: 20px;
                margin-bottom: 24px;
            }
        }

        .rating-scale {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .rating-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 12px;
            border-radius: 10px;
            transition: all 0.3s ease;
            min-width: 70px;
        }

        .rating-option:hover {
            background: #e2e8f0;
            transform: translateY(-2px);
        }

        .rating-option input[type="radio"] {
            display: none;
        }

        .rating-option input[type="radio"]:checked + .rating-content {
            background: #2c5aa0;
            color: white;
            transform: scale(1.1);
        }

        .rating-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px 12px;
            border-radius: 8px;
            transition: all 0.3s ease;
            border: 2px solid #e2e8f0;
        }

        .emoji {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .rating-number {
            font-weight: 600;
            font-size: 14px;
        }

        .rating-labels {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #64748b;
            margin-top: 10px;
        }

        .submit-btn {
            background: linear-gradient(135deg, #2c5aa0 0%, #1e3a8a 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s ease;
            width: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(44, 90, 160, 0.3);
        }

        .thank-you {
            display: none;
            text-align: center;
            padding: 60px 40px;
            background: #f0f9ff;
            border-radius: 12px;
            margin: 20px;
        }

        .thank-you.show {
            display: block;
        }

        .thank-you h2 {
            color: #2c5aa0;
            font-size: 24px;
            margin-bottom: 15px;
        }

        .thank-you p {
            color: #475569;
            font-size: 16px;
            line-height: 1.6;
        }

        .check-icon {
            font-size: 48px;
            color: #10b981;
            margin-bottom: 20px;
        }

        @media (max-width: 600px) {
            .rating-scale {
                gap: 8px;
            }
            
            .rating-option {
                min-width: 55px;
                padding: 8px;
            }
            
            .emoji {
                font-size: 20px;
            }
            
            .rating-number {
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>How Was Your Visit Today?</h1>
            <p>Your feedback helps us provide the best possible care. Please take a moment to share your experience with us.</p>
        </div>

        <form id="surveyForm" class="survey-content">
            <!-- Patient Information Section -->
            <div class="question-group">
                <div class="section-header">
                    <span class="section-icon">👤</span>
                    <div>
                        <div class="question">Visit Information</div>
                        <div class="section-description">Please provide details about your visit today</div>
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label" for="patientName">Full Name *</label>
                        <input type="text" id="patientName" name="patient_name" required class="form-input" placeholder="Enter your full name">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="patientEmail">Email Address *</label>
                        <input type="email" id="patientEmail" name="patient_email" required class="form-input" placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="patientPhone">Phone Number</label>
                        <input type="tel" id="patientPhone" name="patient_phone" class="form-input" placeholder="Enter your phone number">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="visitDate">Visit Date *</label>
                        <input type="date" id="visitDate" name="visit_date" required class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="visitTime">Visit Time *</label>
                        <select id="visitTime" name="visit_time" required class="form-select">
                            <option value="">Select time</option>
                            <option value="8:00 AM - 9:00 AM">8:00 AM - 9:00 AM</option>
                            <option value="9:00 AM - 10:00 AM">9:00 AM - 10:00 AM</option>
                            <option value="10:00 AM - 11:00 AM">10:00 AM - 11:00 AM</option>
                            <option value="11:00 AM - 12:00 PM">11:00 AM - 12:00 PM</option>
                            <option value="12:00 PM - 1:00 PM">12:00 PM - 1:00 PM</option>
                            <option value="1:00 PM - 2:00 PM">1:00 PM - 2:00 PM</option>
                            <option value="2:00 PM - 3:00 PM">2:00 PM - 3:00 PM</option>
                            <option value="3:00 PM - 4:00 PM">3:00 PM - 4:00 PM</option>
                            <option value="4:00 PM - 5:00 PM">4:00 PM - 5:00 PM</option>
                            <option value="5:00 PM - 6:00 PM">5:00 PM - 6:00 PM</option>
                            <option value="After 6:00 PM">After 6:00 PM</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="department">Department/Service Visited *</label>
                        <select id="department" name="department_visited" required class="form-select">
                            <option value="">Select department</option>
                            <option value="Reception/Front Desk">Reception/Front Desk</option>
                            <option value="General Practice">General Practice</option>
                            <option value="Specialist Consultation">Specialist Consultation</option>
                            <option value="Nursing Services">Nursing Services</option>
                            <option value="Laboratory">Laboratory</option>
                            <option value="Radiology/Imaging">Radiology/Imaging</option>
                            <option value="Pharmacy">Pharmacy</option>
                            <option value="Physical Therapy">Physical Therapy</option>
                            <option value="Emergency/Urgent Care">Emergency/Urgent Care</option>
                            <option value="Other">Other</option>
                        </select>
                        <div id="otherDepartment" class="other-department-input">
                            <input type="text" id="otherDepartmentText" name="other_department" class="form-input" placeholder="Please specify the department/service">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Wait Times Section -->
            <div class="question-group">
                <div class="section-header">
                    <span class="section-icon">⏱️</span>
                    <div>
                        <div class="question">Wait Times Experience</div>
                        <div class="section-description">Help us understand your waiting experience today</div>
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label" for="waitTime">How long did you wait for your appointment? *</label>
                        <select id="waitTime" name="wait_time_actual" required class="form-select">
                            <option value="">Select wait time</option>
                            <option value="0-5 minutes">0-5 minutes</option>
                            <option value="6-10 minutes">6-10 minutes</option>
                            <option value="11-15 minutes">11-15 minutes</option>
                            <option value="16-30 minutes">16-30 minutes</option>
                            <option value="31-45 minutes">31-45 minutes</option>
                            <option value="46-60 minutes">46-60 minutes</option>
                            <option value="More than 1 hour">More than 1 hour</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="scheduledTime">Was your appointment on time?</label>
                        <select id="scheduledTime" name="appointment_timeliness" class="form-select">
                            <option value="">Select option</option>
                            <option value="Yes, exactly on time">Yes, exactly on time</option>
                            <option value="Slightly delayed (under 15 min)">Slightly delayed (under 15 min)</option>
                            <option value="Moderately delayed (15-30 min)">Moderately delayed (15-30 min)</option>
                            <option value="Significantly delayed (over 30 min)">Significantly delayed (over 30 min)</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Service-Specific Feedback -->
            <div class="question-group">
                <div class="section-header">
                    <span class="section-icon">🏥</span>
                    <div>
                        <div class="question">Service-Specific Feedback</div>
                        <div class="section-description">Rate each service you experienced today (leave blank if not applicable)</div>
                    </div>
                </div>
                
                <!-- Reception/Front Desk -->
                <div class="rating-section">
                    <div class="rating-title">
                        <span class="rating-title-icon">🏢</span>
                        Reception/Front Desk Service
                    </div>
                    <div class="rating-scale">
                        <label class="rating-option">
                            <input type="radio" name="reception_rating" value="1">
                            <div class="rating-content">
                                <div class="emoji">😞</div>
                                <div class="rating-number">1</div>
                            </div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="reception_rating" value="2">
                            <div class="rating-content">
                                <div class="emoji">😕</div>
                                <div class="rating-number">2</div>
                            </div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="reception_rating" value="3">
                            <div class="rating-content">
                                <div class="emoji">😐</div>
                                <div class="rating-number">3</div>
                            </div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="reception_rating" value="4">
                            <div class="rating-content">
                                <div class="emoji">🙂</div>
                                <div class="rating-number">4</div>
                            </div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="reception_rating" value="5">
                            <div class="rating-content">
                                <div class="emoji">😄</div>
                                <div class="rating-number">5</div>
                            </div>
                        </label>
                    </div>
                    <div class="rating-labels">
                        <span>Poor Service</span>
                        <span>Excellent Service</span>
                    </div>
                </div>

                <!-- Doctor Consultation -->
                <div class="rating-section">
                    <div class="rating-title">
                        <span class="rating-title-icon">👨‍⚕️</span>
                        Doctor/Healthcare Provider Consultation
                    </div>
                    <div class="rating-scale">
                        <label class="rating-option">
                            <input type="radio" name="doctor_rating" value="1">
                            <div class="rating-content">
                                <div class="emoji">😞</div>
                                <div class="rating-number">1</div>
                            </div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="doctor_rating" value="2">
                            <div class="rating-content">
                                <div class="emoji">😕</div>
                                <div class="rating-number">2</div>
                            </div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="doctor_rating" value="3">
                            <div class="rating-content">
                                <div class="emoji">😐</div>
                                <div class="rating-number">3</div>
                            </div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="doctor_rating" value="4">
                            <div class="rating-content">
                                <div class="emoji">🙂</div>
                                <div class="rating-number">4</div>
                            </div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="doctor_rating" value="5">
                            <div class="rating-content">
                                <div class="emoji">😄</div>
                                <div class="rating-number">5</div>
                            </div>
                        </label>
                    </div>
                    <div class="rating-labels">
                        <span>Poor Consultation</span>
                        <span>Excellent Consultation</span>
                    </div>
                </div>

                <!-- Nursing Services -->
                <div class="rating-section">
                    <div class="rating-title">
                        <span class="rating-title-icon">👩‍⚕️</span>
                        Nursing Services
                    </div>
                    <div class="rating-scale">
                        <label class="rating-option">
                            <input type="radio" name="nursing_rating" value="1">
                            <div class="rating-content">
                                <div class="emoji">😞</div>
                                <div class="rating-number">1</div>
                            </div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="nursing_rating" value="2">
                            <div class="rating-content">
                                <div class="emoji">😕</div>
                                <div class="rating-number">2</div>
                            </div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="nursing_rating" value="3">
                            <div class="rating-content">
                                <div class="emoji">😐</div>
                                <div class="rating-number">3</div>
                            </div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="nursing_rating" value="4">
                            <div class="rating-content">
                                <div class="emoji">🙂</div>
                                <div class="rating-number">4</div>
                            </div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="nursing_rating" value="5">
                            <div class="rating-content">
                                <div class="emoji">😄</div>
                                <div class="rating-number">5</div>
                            </div>
                        </label>
                    </div>
                    <div class="rating-labels">
                        <span>Poor Care</span>
                        <span>Excellent Care</span>
                    </div>
                </div>
            </div>

            <!-- Overall Satisfaction -->
            <div class="question-group">
                <div class="question">Overall, how satisfied are you with your visit today?</div>
                <div class="rating-scale">
                    <label class="rating-option">
                        <input type="radio" name="overall_satisfaction" value="1" required>
                        <div class="rating-content">
                            <div class="emoji">😞</div>
                            <div class="rating-number">1</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="overall_satisfaction" value="2">
                        <div class="rating-content">
                            <div class="emoji">😕</div>
                            <div class="rating-number">2</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="overall_satisfaction" value="3">
                        <div class="rating-content">
                            <div class="emoji">😐</div>
                            <div class="rating-number">3</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="overall_satisfaction" value="4">
                        <div class="rating-content">
                            <div class="emoji">🙂</div>
                            <div class="rating-number">4</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="overall_satisfaction" value="5">
                        <div class="rating-content">
                            <div class="emoji">😄</div>
                            <div class="rating-number">5</div>
                        </div>
                    </label>
                </div>
                <div class="rating-labels">
                    <span>Very Dissatisfied</span>
                    <span>Very Satisfied</span>
                </div>
            </div>

            <!-- Staff Professionalism -->
            <div class="question-group">
                <div class="question">How would you rate the professionalism and courtesy of our staff?</div>
                <div class="rating-scale">
                    <label class="rating-option">
                        <input type="radio" name="staff_professionalism" value="1" required>
                        <div class="rating-content">
                            <div class="emoji">😞</div>
                            <div class="rating-number">1</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="staff_professionalism" value="2">
                        <div class="rating-content">
                            <div class="emoji">😕</div>
                            <div class="rating-number">2</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="staff_professionalism" value="3">
                        <div class="rating-content">
                            <div class="emoji">😐</div>
                            <div class="rating-number">3</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="staff_professionalism" value="4">
                        <div class="rating-content">
                            <div class="emoji">🙂</div>
                            <div class="rating-number">4</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="staff_professionalism" value="5">
                        <div class="rating-content">
                            <div class="emoji">😄</div>
                            <div class="rating-number">5</div>
                        </div>
                    </label>
                </div>
                <div class="rating-labels">
                    <span>Poor</span>
                    <span>Excellent</span>
                </div>
            </div>

            <!-- Waiting Time -->
            <div class="question-group">
                <div class="question">How satisfied are you with your waiting time today?</div>
                <div class="rating-scale">
                    <label class="rating-option">
                        <input type="radio" name="waiting_time" value="1" required>
                        <div class="rating-content">
                            <div class="emoji">😞</div>
                            <div class="rating-number">1</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="waiting_time" value="2">
                        <div class="rating-content">
                            <div class="emoji">😕</div>
                            <div class="rating-number">2</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="waiting_time" value="3">
                        <div class="rating-content">
                            <div class="emoji">😐</div>
                            <div class="rating-number">3</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="waiting_time" value="4">
                        <div class="rating-content">
                            <div class="emoji">🙂</div>
                            <div class="rating-number">4</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="waiting_time" value="5">
                        <div class="rating-content">
                            <div class="emoji">😄</div>
                            <div class="rating-number">5</div>
                        </div>
                    </label>
                </div>
                <div class="rating-labels">
                    <span>Too Long</span>
                    <span>Just Right</span>
                </div>
            </div>

            <!-- Feeling Heard -->
            <div class="question-group">
                <div class="question">Did you feel heard and understood during your appointment?</div>
                <div class="rating-scale">
                    <label class="rating-option">
                        <input type="radio" name="feeling_heard" value="1" required>
                        <div class="rating-content">
                            <div class="emoji">😞</div>
                            <div class="rating-number">1</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="feeling_heard" value="2">
                        <div class="rating-content">
                            <div class="emoji">😕</div>
                            <div class="rating-number">2</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="feeling_heard" value="3">
                        <div class="rating-content">
                            <div class="emoji">😐</div>
                            <div class="rating-number">3</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="feeling_heard" value="4">
                        <div class="rating-content">
                            <div class="emoji">🙂</div>
                            <div class="rating-number">4</div>
                        </div>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="feeling_heard" value="5">
                        <div class="rating-content">
                            <div class="emoji">😄</div>
                            <div class="rating-number">5</div>
                        </div>
                    </label>
                </div>
                <div class="rating-labels">
                    <span>Not at All</span>
                    <span>Completely</span>
                </div>
            </div>

            <!-- Additional Comments -->
            <div class="comment-section">
                <label for="comments">💬 Additional Comments</label>
                <p>Please share any additional thoughts, suggestions, or feedback about your visit today:</p>
                <textarea id="comments" name="comments" placeholder="Your feedback helps us improve our services. Please share any additional thoughts about your experience..."></textarea>
            </div>

            <!-- Contact Preferences Section -->
            <div class="contact-preferences-container">
                <div class="contact-header">
                    <div class="contact-title">
                        <span>📞</span>
                        Contact Preferences
                    </div>
                    <div class="contact-subtitle">
                        Let us know if you'd like follow-up communication
                    </div>
                </div>

                <!-- Main Choice: Contact or No Contact -->
                <div class="contact-main-choice">
                    <div class="contact-main-label">Would you like us to contact you for follow-up?</div>
                    <div class="main-choice-options">
                        <label class="main-choice-item">
                            <input type="radio" name="want_contact" value="yes" id="contactYes">
                            <span>✅ Yes, please contact me</span>
                        </label>
                        <label class="main-choice-item">
                            <input type="radio" name="want_contact" value="no" id="contactNo">
                            <span>🚫 No, do not contact me</span>
                        </label>
                    </div>
                </div>

                <!-- Contact Methods (Hidden by default) -->
                <div class="contact-methods" id="contactMethods">
                    <div class="contact-methods-label">How would you prefer to be contacted?</div>
                    <div class="method-options">
                        <label class="method-item">
                            <input type="checkbox" name="contact_preference[]" value="email">
                            <span>📧 Email</span>
                        </label>
                        <label class="method-item">
                            <input type="checkbox" name="contact_preference[]" value="phone">
                            <span>📞 Phone</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Privacy and Confidentiality -->
            <div class="privacy-section">
                <div class="privacy-header">
                    <span class="privacy-icon">🔒</span>
                    <div class="privacy-title">Privacy & Confidentiality</div>
                </div>
                <div class="privacy-content">
                    <p style="margin-bottom: 12px;"><strong>Your Privacy Matters:</strong> We are committed to protecting your personal information and ensuring compliance with healthcare privacy regulations.</p>
                    <ul class="privacy-list">
                        <li>Your feedback will be used solely for quality improvement purposes</li>
                        <li>Personal identifiers will be kept secure and confidential</li>
                        <li>Your responses may be shared with relevant staff for service improvement</li>
                        <li>You have the right to request deletion of your feedback data</li>
                    </ul>
                </div>
                
                <div class="consent-box">
                    <div style="margin-bottom: 16px;">
                        <label class="form-label">Consent for feedback use:</label>
                        <div class="consent-item">
                            <input type="checkbox" name="consent_feedback_use" value="yes" required>
                            <span style="line-height: 1.4;">I consent to my feedback being used for quality improvement purposes and understand that my personal information will be kept confidential.</span>
                        </div>
                    </div>
                </div>

                <div class="data-notice">
                    <strong>Data Protection Notice:</strong> This feedback system complies with healthcare privacy standards. For questions about how your data is used or to request data deletion, please contact our Privacy Officer at privacy@medicalpractice.com
                </div>
            </div>

            <button type="submit" class="submit-btn">Submit Feedback</button>
        </form>

        <div id="thankYou" class="thank-you">
            <div class="check-icon">✅</div>
            <h2>Thank You for Your Feedback!</h2>
            <p>We truly appreciate you taking the time to share your experience with us. Your feedback helps us continue to improve our care and service. We look forward to serving you again in the future.</p>
        </div>
    </div>

    <script>
        // Consolidated survey functionality
        class SurveyManager {
            constructor() {
                this.init();
            }

            init() {
                // Wait for DOM to be ready
                if (document.readyState === 'loading') {
                    document.addEventListener('DOMContentLoaded', () => this.setupEventListeners());
                } else {
                    this.setupEventListeners();
                }
            }

            setupEventListeners() {
                // Department selector
                const departmentSelect = document.getElementById('department');
                if (departmentSelect) {
                    departmentSelect.addEventListener('change', () => this.toggleOtherDepartment());
                }

                // Contact preferences
                this.setupContactPreferences();

                // Form submission
                const form = document.getElementById('surveyForm');
                if (form) {
                    form.addEventListener('submit', (e) => this.handleSubmit(e));
                }

                // Rating hover effects
                this.setupRatingEffects();
            }

            toggleOtherDepartment() {
                const select = document.getElementById('department');
                const otherDiv = document.getElementById('otherDepartment');
                const otherInput = document.getElementById('otherDepartmentText');
                
                if (select && otherDiv && otherInput) {
                    if (select.value === 'Other') {
                        otherDiv.classList.add('show');
                        otherInput.required = true;
                    } else {
                        otherDiv.classList.remove('show');
                        otherInput.required = false;
                        otherInput.value = '';
                    }
                }
            }

            setupContactPreferences() {
                const contactYes = document.getElementById('contactYes');
                const contactNo = document.getElementById('contactNo');
                const contactMethods = document.getElementById('contactMethods');
                const mainChoiceItems = document.querySelectorAll('.main-choice-item');
                const methodItems = document.querySelectorAll('.method-item');
                const contactCheckboxes = document.querySelectorAll('input[name="contact_preference[]"]');

                // Handle main choice changes
                const handleContactChoice = () => {
                    // Update visual state
                    mainChoiceItems.forEach(item => {
                        item.classList.remove('selected');
                        if (item.querySelector('input').checked) {
                            item.classList.add('selected');
                        }
                    });

                    // Show/hide contact methods
                    if (contactYes && contactYes.checked) {
                        contactMethods.classList.add('show');
                    } else {
                        contactMethods.classList.remove('show');
                        // Clear all contact method selections
                        contactCheckboxes.forEach(cb => {
                            cb.checked = false;
                        });
                        methodItems.forEach(item => {
                            item.classList.remove('selected');
                        });
                    }
                };

                // Attach event listeners
                if (contactYes) contactYes.addEventListener('change', handleContactChoice);
                if (contactNo) contactNo.addEventListener('change', handleContactChoice);

                // Handle contact method changes
                contactCheckboxes.forEach(checkbox => {
                    checkbox.addEventListener('change', () => {
                        methodItems.forEach(item => {
                            item.classList.remove('selected');
                            if (item.querySelector('input').checked) {
                                item.classList.add('selected');
                            }
                        });
                    });
                });

                // Handle clicks on labels
                mainChoiceItems.forEach(item => {
                    item.addEventListener('click', (e) => {
                        if (e.target.tagName !== 'INPUT') {
                            const radio = item.querySelector('input[type="radio"]');
                            if (radio) {
                                radio.checked = true;
                                radio.dispatchEvent(new Event('change'));
                            }
                        }
                    });
                });

                methodItems.forEach(item => {
                    item.addEventListener('click', (e) => {
                        if (e.target.tagName !== 'INPUT') {
                            const checkbox = item.querySelector('input[type="checkbox"]');
                            if (checkbox) {
                                checkbox.checked = !checkbox.checked;
                                checkbox.dispatchEvent(new Event('change'));
                            }
                        }
                    });
                });
            }

            setupRatingEffects() {
                document.querySelectorAll('.rating-option').forEach(option => {
                    option.addEventListener('mouseenter', function() {
                        if (!this.querySelector('input').checked) {
                            this.style.transform = 'translateY(-2px)';
                        }
                    });
                    
                    option.addEventListener('mouseleave', function() {
                        if (!this.querySelector('input').checked) {
                            this.style.transform = 'translateY(0)';
                        }
                    });
                });
            }

            saveSurveyResponse(responseData) {
                // In a real application, this would be sent to a server
                // For now, just store in memory and log
                const newResponse = {
                    id: 'SR' + Date.now(),
                    timestamp: new Date().toISOString(),
                    submittedAt: new Date().toLocaleString(),
                    ...responseData
                };

                console.log('Survey response saved:', newResponse);
                return newResponse;
            }

            handleSubmit(e) {
                e.preventDefault();
                
                // Collect form data
                const formData = new FormData(e.target);
                const responseData = Object.fromEntries(formData);
                
                // Handle checkbox arrays
                const contactPreferences = formData.getAll('contact_preference[]');
                responseData.contact_preference_array = contactPreferences;
                
                // Handle contact preference logic
                responseData.want_contact = formData.get('want_contact') || 'not_specified';
                if (responseData.want_contact === 'no') {
                    responseData.contact_preference_array = ['no_contact'];
                }
                
                // Save the response
                this.saveSurveyResponse(responseData);
                
                // Hide form and show thank you
                e.target.style.display = 'none';
                document.getElementById('thankYou').classList.add('show');
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // Initialize the survey manager
        new SurveyManager();
    </script>
</body>
</html>
