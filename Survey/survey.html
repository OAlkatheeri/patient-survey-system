<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clinic Patient Satisfaction Survey</title>
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loading" class="loading">
        <div class="spinner"></div>
    </div>

    <!-- Survey Container -->
    <div class="survey-container">
        <!-- Hidden radio inputs for CSS-only page navigation -->
        <input type="radio" name="page" id="page1" class="page-radio" checked>
        <input type="radio" name="page" id="page2" class="page-radio">
        <input type="radio" name="page" id="page3" class="page-radio">
        <input type="radio" name="page" id="page4" class="page-radio">
        <input type="radio" name="page" id="page5" class="page-radio">
        <input type="radio" name="page" id="page6" class="page-radio">
        <input type="radio" name="page" id="page7" class="page-radio">
        <input type="radio" name="page" id="page8" class="page-radio">
        <input type="radio" name="page" id="page9" class="page-radio">
        <input type="radio" name="page" id="page10" class="page-radio">

        <!-- Header -->
        <div class="header">
            <h1>Clinic Patient Satisfaction Survey</h1>
            <p>Your feedback helps us provide the best possible care</p>
        </div>

        <!-- Form Content -->
        <form id="surveyForm" class="form-content" novalidate>
            <!-- Progress Bar -->
            <div class="progress">
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                <div class="progress-text"></div>
            </div>

            <!-- Page 1: Your Information -->
            <div class="page" data-page="1">
                <h2 class="page-title">
                    <span class="page-icon">üë§</span>
                    Your Information
                </h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Full Name *</label>
                        <input type="text" name="patient_name" class="form-input" required 
                               placeholder="Enter your full name" 
                               pattern="[A-Za-z\s]{2,50}"
                               autocomplete="name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email Address *</label>
                        <input type="text" name="patient_email" class="form-input" required 
                               placeholder="email@example.com"
                               autocomplete="email">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Phone Number</label>
                        <input type="tel" name="patient_phone" class="form-input" 
                               value="" pattern="^(\+971[0-9]{8,9}|\+[0-9]{10,15}|05[0-9]{8}|)$"
                               placeholder="+971, 05xxxxxxxx, or international"
                               autocomplete="tel">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Visit Date *</label>
                        <input type="date" name="visit_date" class="form-input" required>
                        <small style="color: var(--text-light); margin-top: 0.3rem; display: block; font-size: 0.8rem; line-height: 1.4;">
                            üìÖ Defaults to today - you can select any date within the last 90 days
                        </small>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Clinic Location *</label>
                        <select name="clinic_location" id="clinicSelect" class="form-select" required>
                            <option value="">Select a clinic</option>
                            <option value="clinic1">UAEU Main Campus Clinic - Al Ain</option>
                            <option value="clinic2">UAEU Medical Campus Clinic - Al Ain</option>
                            <option value="clinic3">EGA Dubai Clinic - Dubai</option>
                            <option value="clinic4">EGA Abu Dhabi Clinic - Abu Dhabi</option>
                            <option value="clinic5">UAEU Al Ain Campus Clinic - Al Ain</option>
                            <option value="other">Other Location</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Page 2: Overall Experience -->
            <div class="page" data-page="2">
                <h2 class="page-title">
                    <span class="page-icon">‚≠ê</span>
                    Overall Experience
                </h2>
                <div class="form-group">
                    <label class="form-label text-center">How satisfied are you with your overall experience? *</label>
                    <div class="rating-group">
                        <label class="rating-option">
                            <input type="radio" name="overall_satisfaction" value="dissatisfied" required>
                            <span class="rating-label">üòû Dissatisfied</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="overall_satisfaction" value="satisfied" required>
                            <span class="rating-label">üôÇ Satisfied</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="overall_satisfaction" value="very_satisfied" required>
                            <span class="rating-label">üòä Very Satisfied</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label text-center">Is this your first visit? *</label>
                    <div class="rating-group">
                        <label class="rating-option">
                            <input type="radio" name="visit_type" value="first_visit" required>
                            <span class="rating-label">üÜï First Visit</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="visit_type" value="follow_up" required>
                            <span class="rating-label">üîÑ Follow Up</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Page 3: Reception Staff -->
            <div class="page" data-page="3">
                <h2 class="page-title">
                    <span class="page-icon">üè¢</span>
                    Reception Staff
                </h2>
                <div class="form-group">
                    <label class="form-label text-center">How satisfied are you with the reception staff? *</label>
                    <div class="rating-group">
                        <label class="rating-option">
                            <input type="radio" name="reception_satisfaction" value="very_dissatisfied" required>
                            <span class="rating-label">üòû Very Dissatisfied</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="reception_satisfaction" value="dissatisfied" required>
                            <span class="rating-label">üòï Dissatisfied</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="reception_satisfaction" value="neutral" required>
                            <span class="rating-label">üòê Neutral</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="reception_satisfaction" value="satisfied" required>
                            <span class="rating-label">üôÇ Satisfied</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="reception_satisfaction" value="very_satisfied" required>
                            <span class="rating-label">üòÑ Very Satisfied</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label text-center">Was the registration process smooth? *</label>
                    <div class="rating-group">
                        <label class="rating-option">
                            <input type="radio" name="registration_smooth" value="no" required>
                            <span class="rating-label">‚ùå No</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="registration_smooth" value="yes" required>
                            <span class="rating-label">‚úÖ Yes</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Comments (Optional)</label>
                    <textarea name="reception_comments" class="form-textarea" 
                              placeholder="Please share your thoughts..."></textarea>
                </div>
            </div>

            <!-- Page 4: Nursing Staff -->
            <div class="page" data-page="4">
                <h2 class="page-title">
                    <span class="page-icon">üë©‚Äç‚öïÔ∏è</span>
                    Nursing Staff
                </h2>
                <div class="form-group">
                    <label class="form-label text-center">How would you rate the nursing staff professionalism? *</label>
                    <div class="rating-group">
                        <label class="rating-option">
                            <input type="radio" name="nursing_professionalism" value="poor" required>
                            <span class="rating-label">üëé Poor</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="nursing_professionalism" value="fair" required>
                            <span class="rating-label">üëå Fair</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="nursing_professionalism" value="good" required>
                            <span class="rating-label">üëç Good</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="nursing_professionalism" value="excellent" required>
                            <span class="rating-label">‚≠ê Excellent</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label text-center">Were your medical needs attended promptly? *</label>
                    <div class="rating-group">
                        <label class="rating-option">
                            <input type="radio" name="nursing_prompt" value="no" required>
                            <span class="rating-label">‚ùå No</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="nursing_prompt" value="yes" required>
                            <span class="rating-label">‚úÖ Yes</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Comments (Optional)</label>
                    <textarea name="nursing_comments" class="form-textarea" 
                              placeholder="Please share your thoughts..."></textarea>
                </div>
            </div>

            <!-- Page 5: Doctor Consultation -->
            <div class="page" data-page="5">
                <h2 class="page-title">
                    <span class="page-icon">üë®‚Äç‚öïÔ∏è</span>
                    Doctor Consultation
                </h2>
                <div class="form-group">
                    <label class="form-label text-center">How satisfied are you with the doctor's care? *</label>
                    <div class="rating-group">
                        <label class="rating-option">
                            <input type="radio" name="doctor_satisfaction" value="very_dissatisfied" required>
                            <span class="rating-label">üòû Very Dissatisfied</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="doctor_satisfaction" value="dissatisfied" required>
                            <span class="rating-label">üòï Dissatisfied</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="doctor_satisfaction" value="neutral" required>
                            <span class="rating-label">üòê Neutral</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="doctor_satisfaction" value="satisfied" required>
                            <span class="rating-label">üôÇ Satisfied</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="doctor_satisfaction" value="very_satisfied" required>
                            <span class="rating-label">üòÑ Very Satisfied</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label text-center">Did the doctor listen to your concerns? *</label>
                    <div class="rating-group">
                        <label class="rating-option">
                            <input type="radio" name="doctor_listening" value="no" required>
                            <span class="rating-label">‚ùå No</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="doctor_listening" value="yes" required>
                            <span class="rating-label">‚úÖ Yes</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label text-center">Was the diagnosis explanation clear? *</label>
                    <div class="rating-group">
                        <label class="rating-option">
                            <input type="radio" name="doctor_explanation" value="no" required>
                            <span class="rating-label">‚ùå No</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="doctor_explanation" value="yes" required>
                            <span class="rating-label">‚úÖ Yes</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Comments (Optional)</label>
                    <textarea name="doctor_comments" class="form-textarea" 
                              placeholder="Please share your thoughts..."></textarea>
                </div>
            </div>

            <!-- Page 6: Clinic Environment -->
            <div class="page" data-page="6">
                <h2 class="page-title">
                    <span class="page-icon">üè•</span>
                    Clinic Environment
                </h2>
                <div class="form-group">
                    <label class="form-label text-center">How satisfied are you with clinic cleanliness? *</label>
                    <div class="rating-group">
                        <label class="rating-option">
                            <input type="radio" name="clinic_cleanliness" value="very_dissatisfied" required>
                            <span class="rating-label">üò£ Very Dissatisfied</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="clinic_cleanliness" value="dissatisfied" required>
                            <span class="rating-label">üëé Dissatisfied</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="clinic_cleanliness" value="neutral" required>
                            <span class="rating-label">ü§∑ Neutral</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="clinic_cleanliness" value="satisfied" required>
                            <span class="rating-label">üëç Satisfied</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="clinic_cleanliness" value="very_satisfied" required>
                            <span class="rating-label">‚ú® Very Satisfied</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label text-center">Was the waiting time acceptable? *</label>
                    <div class="rating-group">
                        <label class="rating-option">
                            <input type="radio" name="waiting_time_acceptable" value="no" required>
                            <span class="rating-label">‚ùå No</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="waiting_time_acceptable" value="yes" required>
                            <span class="rating-label">‚úÖ Yes</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Comments (Optional)</label>
                    <textarea name="environment_comments" class="form-textarea" 
                              placeholder="Please share your thoughts..."></textarea>
                </div>
            </div>

            <!-- Page 7: Additional Feedback -->
            <div class="page" data-page="7">
                <h2 class="page-title">
                    <span class="page-icon">üìù</span>
                    Additional Feedback
                </h2>
                <div class="form-group">
                    <label class="form-label">What did you like most about your experience?</label>
                    <textarea name="liked_most" class="form-textarea" 
                              placeholder="Please share your thoughts..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">What areas can we improve?</label>
                    <textarea name="areas_improve" class="form-textarea" 
                              placeholder="Please share your thoughts..."></textarea>
                </div>
            </div>

            <!-- Page 8: Recommendation -->
            <div class="page" data-page="8">
                <h2 class="page-title">
                    <span class="page-icon">üë•</span>
                    Recommendation
                </h2>
                <div class="form-group">
                    <label class="form-label text-center">How likely are you to recommend our clinic? *</label>
                    <div class="rating-group">
                        <label class="rating-option">
                            <input type="radio" name="recommendation_likelihood" value="very_unlikely" required>
                            <span class="rating-label">üö´ Very Unlikely</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="recommendation_likelihood" value="unlikely" required>
                            <span class="rating-label">üëé Unlikely</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="recommendation_likelihood" value="neutral" required>
                            <span class="rating-label">ü§î Neutral</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="recommendation_likelihood" value="likely" required>
                            <span class="rating-label">üëç Likely</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="recommendation_likelihood" value="very_likely" required>
                            <span class="rating-label">üíØ Very Likely</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Comments (Optional)</label>
                    <textarea name="recommendation_comments" class="form-textarea" 
                              placeholder="Please share your thoughts..."></textarea>
                </div>
            </div>

            <!-- Page 9: Contact Preferences -->
            <div class="page" data-page="9">
                <h2 class="page-title">
                    <span class="page-icon">üìû</span>
                    Contact Preferences
                </h2>
                <div class="form-group">
                    <label class="form-label text-center">Would you like us to contact you for follow-up? *</label>
                    <div class="rating-group" role="radiogroup" aria-required="true">
                        <label class="rating-option">
                            <input type="radio" name="want_contact" value="no" required>
                            <span class="rating-label">üö´ No Contact</span>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="want_contact" value="yes" required>
                            <span class="rating-label">‚úÖ Yes, Contact Me</span>
                        </label>
                    </div>
                    <div class="error-message text-center" id="contactRadioError">Please select an option</div>
                </div>
                
                <!-- Contact methods container -->
                <div class="form-group" id="contactMethodsWrapper">
                    <div id="contactMethods" class="contact-methods" role="region" aria-label="Contact method selection">
                        <label class="form-label text-center">How would you prefer to be contacted?</label>
                        <div class="rating-group" role="group" aria-describedby="contactError">
                            <label class="rating-option">
                                <input type="checkbox" name="contact_preference[]" value="email">
                                <span class="rating-label">üìß Email</span>
                            </label>
                            <label class="rating-option phone-option" id="phoneOption">
                                <input type="checkbox" name="contact_preference[]" value="phone">
                                <span class="rating-label">üìû Phone</span>
                            </label>
                        </div>
                        <div class="error-message text-center" id="contactError">Please select at least one contact method</div>
                    </div>
                </div>
            </div>

            <!-- Page 10: Privacy & Consent -->
            <div class="page" data-page="10">
                <h2 class="page-title">
                    <span class="page-icon">üîí</span>
                    Privacy & Consent
                </h2>
                <div style="background: #f0f9ff; padding: 1.3rem; border-radius: 12px; margin-bottom: 1.3rem;">
                    <h3 style="color: var(--primary); margin-bottom: 1rem; font-size: 1.1rem;">Your Privacy Matters</h3>
                    <ul style="list-style: none; padding: 0; line-height: 1.7; font-size: 0.9rem;">
                        <li>‚úì Your feedback will be used solely for quality improvement</li>
                        <li>‚úì Personal information will be kept secure and confidential</li>
                        <li>‚úì You can request deletion of your data at any time</li>
                        <li>‚úì We comply with healthcare privacy regulations</li>
                    </ul>
                </div>
                
                <div class="form-group">
                    <label class="consent-checkbox" for="consentCheck" id="consentCheckbox">
                        <input type="checkbox" id="consentCheck" name="consent_feedback_use" value="yes" required>
                        <span class="consent-label">
                            <span class="checkbox-icon"></span>
                            <span class="consent-text">I consent to my feedback being used for quality improvement purposes and understand that my personal information will be kept confidential.</span>
                        </span>
                    </label>
                    <div class="consent-error" id="consentError">
                        ‚ö†Ô∏è Please check the consent box to proceed with your survey submission
                    </div>
                </div>
            </div>
        </form>

        <!-- Navigation -->
        <div class="navigation">
            <!-- Previous buttons -->
            <label for="page1" class="btn-smooth btn-secondary-smooth prev-page">Previous</label>
            <label for="page2" class="btn-smooth btn-secondary-smooth prev-page">Previous</label>
            <label for="page3" class="btn-smooth btn-secondary-smooth prev-page">Previous</label>
            <label for="page4" class="btn-smooth btn-secondary-smooth prev-page">Previous</label>
            <label for="page5" class="btn-smooth btn-secondary-smooth prev-page">Previous</label>
            <label for="page6" class="btn-smooth btn-secondary-smooth prev-page">Previous</label>
            <label for="page7" class="btn-smooth btn-secondary-smooth prev-page">Previous</label>
            <label for="page8" class="btn-smooth btn-secondary-smooth prev-page">Previous</label>
            <label for="page9" class="btn-smooth btn-secondary-smooth prev-page">Previous</label>
            
            <div class="next-pages">
                <label for="page2" class="btn-smooth btn-primary-smooth">Next</label>
                <label for="page3" class="btn-smooth btn-primary-smooth">Next</label>
                <label for="page4" class="btn-smooth btn-primary-smooth">Next</label>
                <label for="page5" class="btn-smooth btn-primary-smooth">Next</label>
                <label for="page6" class="btn-smooth btn-primary-smooth">Next</label>
                <label for="page7" class="btn-smooth btn-primary-smooth">Next</label>
                <label for="page8" class="btn-smooth btn-primary-smooth">Next</label>
                <label for="page9" class="btn-smooth btn-primary-smooth">Next</label>
                <label for="page10" class="btn-smooth btn-primary-smooth">Next</label>
            </div>
            
            <button type="button" id="submitBtn" class="btn-smooth btn-primary-smooth submit-btn">Submit Feedback</button>
        </div>
    </div>

    <!-- Thank You Page -->
    <div id="thankYou" class="thank-you">
        <div class="thank-you-content">
            <div class="check-icon">‚úÖ</div>
            <h2 style="font-size: 1.8rem; color: var(--primary); margin-bottom: 1rem;">Thank You!</h2>
            <p style="font-size: 1rem; color: var(--text-light); margin-bottom: 2rem;">
                We appreciate your feedback. Your input helps us continue to improve our services.
            </p>
            <button id="newSurveyBtn" class="btn-smooth btn-primary-smooth">Start New Survey</button>
            <p style="margin-top: 1rem; color: var(--text-light); font-size: 0.9rem;">
                Auto-restart in <span id="countdown" style="font-weight: bold;">30</span> seconds
            </p>
        </div>
    </div>
    
    
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="script.js"></script>


</body>
</html>
